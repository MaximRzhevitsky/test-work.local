"use strict";(globalThis.webpackChunkmarkup_template=globalThis.webpackChunkmarkup_template||[]).push([[681],{681:(t,e,i)=>{i.r(e);var o=i(461);const n=[],s={id:"0",title:"0",description:"0",placeholder:null,paddingTop:""};let r=!1,a=!1,d=!1;function c(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t||!r)if(r=!0,window.gform&&!0!==window.gform.domLoaded&&(window.gform.domLoaded=!0),n.length){const t=n.shift();if(!document.querySelector(`#${t.id}`)){const e=document.createElement("script");e.id=t.id,e.async=!1,t.src&&(e.src=t.src),t.type&&(e.type=t.type),document.body.appendChild(e)}c()}else r=!1}function l(t,e,i){e.innerHTML=i,Array.from(e.querySelectorAll("script")).forEach((t=>{const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)})),c(!0),e.querySelector("form").addEventListener("submit",(()=>{s.id=t,s.placeholder=e,s.title=e.querySelector(".gform_title")?"1":"0",s.description=e.querySelector(".gform_description")?"1":"0",s.paddingTop=`${e.offsetHeight}px`;const i=s.placeholder.querySelector(".gform_confirmation_wrapper");i&&i.remove(),d||"undefined"!=typeof jQuery&&(d=!0,jQuery(document).on("gform_confirmation_loaded",(()=>{s.placeholder.style.paddingTop=s.paddingTop,fetch(window.location,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optimisation_gf_form_id:s.id,title:s.title,description:s.description})}).then((t=>t.json())).then((t=>{n.push(...t.data.scripts);let e="";const i=s.placeholder.querySelector(".gform_confirmation_wrapper");i&&(e=i.outerHTML),l(s.id,s.placeholder,t.data.html+e),s.placeholder.style.paddingTop=""}))})))}))}(0,o.Z)("[data-optimisation-gf-form-id]").firstShow((function(){a||(function(t){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","/wp-content/themes/child-theme/assets/css/gravity-forms.css"),document.head.appendChild(e)}(),a=!0);const{optimisationGfFormId:t}=this.dataset;fetch(window.location,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optimisation_gf_form_id:t,title:this.dataset.title,description:this.dataset.description})}).then((t=>t.json())).then((e=>{this.classList.remove("animation"),this.classList.add("loaded"),n.push(...e.data.scripts),l(t,this,e.data.html)}))})).show((function(){this.classList.contains("loaded")||this.classList.add("animation")})).hide((function(){this.classList.contains("loaded")||this.classList.remove("animation")})).setMargin(400,400)}}]);
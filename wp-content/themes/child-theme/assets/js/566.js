"use strict";(globalThis.webpackChunkmarkup_template=globalThis.webpackChunkmarkup_template||[]).push([[566],{6566:(t,e,i)=>{i.r(e);var o=i(2461);const n=[],s={id:"0",title:"0",description:"0",placeholder:null,paddingTop:""};let r=!1,d=!1,a=!1;const c=[];function l(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=document.createElement("script");i.async=!1,e&&(i.id=t.id),t.src&&(i.src=t.src),t.type&&(i.type=t.type),document.body.appendChild(i)}function p(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&r))if(r=!0,window.gform&&!0!==window.gform.domLoaded&&(window.gform.domLoaded=!0),n.length){const t=n.shift();t.id.startsWith("gform-init-")?l(t,!1):document.querySelector(`#${t.id}`)||c.includes(t.src)||(l(t),c.push(t.src)),p()}else r=!1}function m(t,e,i){return fetch("/wp-content/mu-plugins/wld-plugins/wld-gf-load-optimization/output.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optimisation_gf_form_id:t,title:e,description:i,page_url:window.location.toString()})}).then((t=>t.json()))}function h(t,e,i){e.innerHTML=i,Array.from(e.querySelectorAll("script")).forEach((t=>{const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)})),p(!0),e.querySelector("form").addEventListener("submit",(()=>{s.id=t,s.placeholder=e,s.title=e.querySelector(".gform_title")?"1":"0",s.description=e.querySelector(".gform_description")?"1":"0",s.paddingTop=`${e.offsetHeight}px`;const i=s.placeholder.querySelector(".gform_confirmation_wrapper");i&&i.remove(),a||"undefined"!=typeof jQuery&&(a=!0,jQuery(document).on("gform_confirmation_loaded",(()=>{s.placeholder.style.paddingTop=s.paddingTop,m(s.id,s.title,s.description).then((t=>{n.push(...t.data.scripts);let e="";const i=s.placeholder.querySelector(".gform_confirmation_wrapper");i&&(e=i.outerHTML),h(s.id,s.placeholder,t.data.html+e),s.placeholder.style.paddingTop=""}))})))}))}(0,o.Z)("[data-optimisation-gf-form-id]",{firstShow:function(){d||(function(t){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","/wp-content/themes/child-theme/assets/css/gravity-forms.css"),document.head.appendChild(e)}(),d=!0);const{optimisationGfFormId:t,title:e,description:i}=this.dataset;m(t,e,i).then((e=>{this.classList.remove("animation"),this.classList.add("loaded"),n.push(...e.data.scripts),h(t,this,e.data.html)}))},show:function(){this.classList.contains("loaded")||this.classList.add("animation")},hide:function(){this.classList.contains("loaded")||this.classList.remove("animation")},setMargin:[600,400]})}}]);
export default function e(e){let t=0;const n={},r={},i={},a={},o=[];function l(e){return"menu"===e.nextElementSibling.getAttribute("data-role")}function u(e){return"horizontal"===r[e]}function s(e,t,n){let r,i;for(;t;){switch(i=!0,r=t.getAttribute("data-role"),r&&(r=r.trim().toLowerCase()),r){case"menu":t.tabIndex=-1,A(t,e+1),i=!1;break;case"menuitem":n.push(t),t.nextElementSibling&&l(t)&&o.push(t)}i&&t.firstElementChild&&"svg"!==t.firstElementChild.tagName&&s(e,t.firstElementChild,n),t=t.nextElementSibling}}function c(e,t){const n=[];return s(t,e.firstElementChild,n),n}function b(e,t){n[e]&&n[e].forEach((e=>{e===t?(e.tabIndex=0,t.focus()):e.tabIndex=-1}))}function m(e){b(e,i[e])}function f(e){b(e,a[e])}function g(e,t){let r,o;return t===i[e]?r=a[e]:(o=n[e].indexOf(t),r=n[e][o-1]),b(e,r),r}function d(e,t){let r,o;return t===a[e]?r=i[e]:(o=n[e].indexOf(t),r=n[e][o+1]),b(e,r),r}function E(e){let n=!1,r=e.getAttribute("data-role");for(;e&&"menu"!==r&&"menubar"!==r;)(e=e.parentNode)&&(r=e.getAttribute("data-role"));return e&&(n=`${r}-${function(e){let n=e.dataset.menuId;return n||(e.dataset.menuId=(++t).toString(),n=e.dataset.menuId),n}(e)}`),n}function p(e){let t=e,n=e.getAttribute("data-role");for(;t&&"menu"!==n&&"menubar"!==n;)t=t.parentNode,t&&(n=t.getAttribute("data-role"));return t}function h(e){const{currentTarget:t,key:n}=e,r=E(t);let i,a,o,s=!1;switch(document.querySelectorAll(".footer-menu-tooltip").forEach((e=>{e.remove()})),n){case"Esc":case"Escape":const e=p(t);e.previousElementSibling&&e.previousElementSibling.focus(),s=!0;break;case"Up":case"ArrowUp":u(r)?t.nextElementSibling&&l(t)&&(a=E(t.nextElementSibling),f(a)):g(r,t),s=!0;break;case"ArrowDown":case"Down":u(r)?t.nextElementSibling&&l(t)&&(a=E(t.nextElementSibling),m(a)):d(r,t),s=!0;break;case"Left":case"ArrowLeft":u(r)?g(r,t):p(t)&&"menubar"!==p(p(t).previousElementSibling).getAttribute("data-role")?(o=p(t).previousElementSibling,i=E(o),b(i,o)):(o=p(t).previousElementSibling,i=E(o),g(i,o)),s=!0;break;case"Right":case"ArrowRight":if(u(r))d(r,t);else if(t.nextElementSibling)a=E(t.nextElementSibling),m(a);else{let e=t,n=p(t),r=n.getAttribute("data-role");for(;n&&"menubar"!==r;)e=n.previousElementSibling,n=p(e),n&&(r=n.getAttribute("data-role"));d(E(n),e)}s=!0;break;case"Home":case"PageUp":m(r),s=!0;break;case"End":case"PageDown":f(r),s=!0}s&&(e.stopPropagation(),e.preventDefault())}function A(e,t){let o,l;const u=E(e),s=c(e,t);r[u]=function(e){let t=e.getAttribute("aria-orientation");if(!t)switch(e.getAttribute("data-role")){case"menubar":t="horizontal";break;case"menu":t="vertical"}return t}(e),n[u]=[],i[u]=null,a[u]=null;for(let e=0;e<s.length;e++)o=s[e],l=o.getAttribute("data-role"),l.indexOf("menuitem")<0||(o.tabIndex=-1,n[u].push(o),o.addEventListener("keydown",h),i[u]||(i[u]=o),a[u]=o)}A(e,0);const x=e.querySelector("[data-role=menuitem]");x&&(x.tabIndex=0,x.addEventListener("keyup",(function(e){const{currentTarget:t,key:n}=e,r=o.length?"use &#8592; &#8595; &#8594; to navigate":"use &#8592; / &#8594; to navigate";"Tab"!==n&&"Left"!==n&&"ArrowLeft"!==n&&"Right"!==n&&"ArrowRight"!==n||(t.innerHTML+=`<span class="footer-menu-tooltip" aria-hidden="true">${r}</span>`)})))}